# å¼€å‘è®°å½•

## é¡¹ç›®ç»“æ„

## è§„èŒƒ

### git hooks

å®‰è£… git hooks å·¥å…·

```bash
pn add husky lint-staged -D -w
```

åˆå§‹åŒ– git hooks

```bash
#--no-install å‚æ•°è¡¨ç¤ºå¼ºåˆ¶npxä½¿ç”¨é¡¹ç›®ä¸­node_modulesç›®å½•ä¸‹çš„huskyä¾èµ–åŒ…
npx --no-install husky install
```

æ³¨å†Œç›¸åº”çš„ git hooks é’©å­

```sh
# æäº¤ä¿¡æ¯å‰æ‰§è¡Œ
npx --no-instal husky add .husky/commit-msg "<ä½ è¦æ‰§è¡Œçš„å‘½ä»¤>"
# æäº¤å‰æ‰§è¡Œ
npx --no-instal husky add .husky/pre-commit "<ä½ è¦æ‰§è¡Œçš„å‘½ä»¤>"

# è¯¥é¡¹ç›®çš„
npx --no-instal husky add .husky/commit-msg 'npx --no-install commitlint --edit "$1"'
npx --no-instal husky add .husky/pre-commit 'npx --no-install lint-staged'
```

è®©å…¶ä»–äººåœ¨ clone æ­¤é¡¹ç›®åå®‰è£…ä¾èµ–åè‡ªåŠ¨åˆ›å»º .husky å¹¶æ³¨å†Œ git hooks é’©å­

```sh
npm set-script prepare "husky install"
```

ä¼šåœ¨ `package.json` ä¸­æ·»åŠ å¦‚ä¸‹è„šæœ¬

```json
{
  "scripts": {
    "prepare": "husky install"
  }
}
```

### æäº¤è§„èŒƒ

å®‰è£… `commitizen` å·¥å…·

```bash
pn add commitizen commitlint-config-cz  cz-customizable @commitlint/cli @commitlint/config-conventional -D -w
```

åœ¨ `package.json` ä¸­æ·»åŠ è„šæœ¬

```sh
npm set-script commit "cz"
```

ä¼šåœ¨ `package.json` ä¸­æ·»åŠ å¦‚ä¸‹è„šæœ¬

```json
{
  "scripts": {
    "commit": "cz"
  }
}
```

åœ¨ `package.json` ä¸­æ·»åŠ é…ç½®

```json
{
  "config": {
    "commitizen": {
      "path": "node_modules/cz-customizable"
    }
  }
}
```

åˆ›å»ºä¸€ä¸ª commitlint é…ç½®æ–‡ä»¶ commitlint.config.js åˆ°é¡¹ç›®æ ¹ç›®å½• ğŸ‘‡ ä»–å°†ç»§æ‰¿@commitlint/config-conventional ä¸­çš„ Commit message è§„èŒƒã€‚ï¼ˆ"feat", "fix", "perf", "refactor"...ï¼‰

```javascript
module.exports = { extends: ['cz'] }
```

å®ç°è‡ªå®šä¹‰ commit message è§„åˆ™ï¼ˆç›´æ¥ä»è‡ªå®šä¹‰çš„æ–‡ä»¶é‡Œè¯»å–è§„åˆ™ï¼‰  
[.cz-config.js](.cz-config.js) ï¼Œ[é»˜è®¤é…ç½®.js](https://github.com/leoforfree/cz-customizable/blob/master/cz-config-EXAMPLE.js)

åœ¨ç»ˆç«¯è¿›è¡Œæµ‹è¯•

```sh
echo 'feat: bar' | npx --no-install commitlint
```

é…ç½®è¯¦æƒ…å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç«  [commitizen](https://juejin.cn/post/7063912026384367629#heading-7)

### ä»£ç è§„èŒƒ
